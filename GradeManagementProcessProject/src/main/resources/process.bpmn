<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_1b0btzw" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="2.2.3">
  <bpmn:collaboration id="Collaboration_162fn8p">
    <bpmn:participant id="Participant_1p396rl" name="Test Listener" processRef="Process_1" />
  </bpmn:collaboration>
  <bpmn:process id="Process_1" name="Test Listener" isExecutable="true">
    <bpmn:startEvent id="StartEvent_0kgykmv">
      <bpmn:outgoing>SequenceFlow_1q214e6</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:subProcess id="SubProcess_0cd7h5u">
      <bpmn:incoming>SequenceFlow_0gksq5a</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0k8r9kg</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${studentExamList}" camunda:elementVariable="studentExam" />
      <bpmn:sendTask id="SendTask_0nzfu75" name="Anfrage senden, ob Dokument hochgeladen ist" camunda:class="thi.iis.project.pruefungen.servicetasks.archive.SendDocumentStatusRequest">
        <bpmn:incoming>SequenceFlow_05k21es</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1x6j8rx</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:startEvent id="StartEvent_0ursy7f">
        <bpmn:outgoing>SequenceFlow_1azj7tj</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="SequenceFlow_1azj7tj" sourceRef="StartEvent_0ursy7f" targetRef="ExclusiveGateway_0qkp441" />
      <bpmn:exclusiveGateway id="ExclusiveGateway_0qkp441">
        <bpmn:incoming>SequenceFlow_0r6rxk1</bpmn:incoming>
        <bpmn:incoming>SequenceFlow_1azj7tj</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_06l92lo</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:exclusiveGateway id="ExclusiveGateway_1ajlbdj">
        <bpmn:incoming>SequenceFlow_094ifu9</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0r6rxk1</bpmn:outgoing>
        <bpmn:outgoing>SequenceFlow_0re40za</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="SequenceFlow_0r6rxk1" name="Dokument noch nicht hochgeladen" sourceRef="ExclusiveGateway_1ajlbdj" targetRef="ExclusiveGateway_0qkp441">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${documentUploadStatus.equals("false")}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="SequenceFlow_06l92lo" sourceRef="ExclusiveGateway_0qkp441" targetRef="IntermediateThrowEvent_08egxnj" />
      <bpmn:sequenceFlow id="SequenceFlow_1x6j8rx" sourceRef="SendTask_0nzfu75" targetRef="ExclusiveGateway_0b8voat" />
      <bpmn:sequenceFlow id="SequenceFlow_05k21es" sourceRef="IntermediateThrowEvent_08egxnj" targetRef="SendTask_0nzfu75" />
      <bpmn:intermediateCatchEvent id="IntermediateThrowEvent_08egxnj" name="5 Sekunden warten">
        <bpmn:incoming>SequenceFlow_06l92lo</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_05k21es</bpmn:outgoing>
        <bpmn:timerEventDefinition>
          <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT5S</bpmn:timeDuration>
        </bpmn:timerEventDefinition>
      </bpmn:intermediateCatchEvent>
      <bpmn:sequenceFlow id="SequenceFlow_0cemde2" sourceRef="Task_0ca6d0q" targetRef="ExclusiveGateway_0kuhckt" />
      <bpmn:serviceTask id="Task_0ca6d0q" name="Auf Antwort warten" camunda:class="thi.iis.project.pruefungen.servicetasks.TestWaitForDocDtatusReply">
        <bpmn:incoming>SequenceFlow_0f79c3p</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0cemde2</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:endEvent id="EndEvent_0wveftu">
        <bpmn:incoming>SequenceFlow_0re40za</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="SequenceFlow_0re40za" name="Dokument hochgeladen" sourceRef="ExclusiveGateway_1ajlbdj" targetRef="EndEvent_0wveftu">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${documentUploadStatus.equals("true")}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:exclusiveGateway id="ExclusiveGateway_0kuhckt">
        <bpmn:incoming>SequenceFlow_0cemde2</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_094ifu9</bpmn:outgoing>
        <bpmn:outgoing>SequenceFlow_08hxfv3</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="SequenceFlow_094ifu9" name="Antwort erhalten" sourceRef="ExclusiveGateway_0kuhckt" targetRef="ExclusiveGateway_1ajlbdj">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${msgReceived == true}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:exclusiveGateway id="ExclusiveGateway_0b8voat">
        <bpmn:incoming>SequenceFlow_1x6j8rx</bpmn:incoming>
        <bpmn:incoming>SequenceFlow_08hxfv3</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0f79c3p</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="SequenceFlow_0f79c3p" sourceRef="ExclusiveGateway_0b8voat" targetRef="Task_0ca6d0q" />
      <bpmn:sequenceFlow id="SequenceFlow_08hxfv3" name="keine Antwort erhalten" sourceRef="ExclusiveGateway_0kuhckt" targetRef="ExclusiveGateway_0b8voat">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${msgReceived == false}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="SequenceFlow_1q214e6" sourceRef="StartEvent_0kgykmv" targetRef="ServiceTask_13xgdql" />
    <bpmn:sequenceFlow id="SequenceFlow_0gksq5a" sourceRef="ServiceTask_13xgdql" targetRef="SubProcess_0cd7h5u" />
    <bpmn:sequenceFlow id="SequenceFlow_0k8r9kg" sourceRef="SubProcess_0cd7h5u" targetRef="EndEvent_1e3vevs" />
    <bpmn:endEvent id="EndEvent_1e3vevs">
      <bpmn:incoming>SequenceFlow_0k8r9kg</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="ServiceTask_13xgdql" name="get StudentExams" camunda:class="thi.iis.project.pruefungen.servicetasks.TestGetStudentExams">
      <bpmn:incoming>SequenceFlow_1q214e6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0gksq5a</bpmn:outgoing>
    </bpmn:serviceTask>
  </bpmn:process>
  <bpmn:message id="Message_1hhwxvv" name="testReceiveDocStatus" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_162fn8p">
      <bpmndi:BPMNShape id="Participant_1p396rl_di" bpmnElement="Participant_1p396rl">
        <dc:Bounds x="121" y="220" width="1439" height="255" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_0kgykmv_di" bpmnElement="StartEvent_0kgykmv">
        <dc:Bounds x="180" y="326" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1e3vevs_di" bpmnElement="EndEvent_1e3vevs">
        <dc:Bounds x="1424" y="325" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_13xgdql_di" bpmnElement="ServiceTask_13xgdql">
        <dc:Bounds x="242" y="305" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SubProcess_0cd7h5u_di" bpmnElement="SubProcess_0cd7h5u" isExpanded="true">
        <dc:Bounds x="373" y="243" width="1014" height="205" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1q214e6_di" bpmnElement="SequenceFlow_1q214e6">
        <di:waypoint x="216" y="344" />
        <di:waypoint x="229" y="344" />
        <di:waypoint x="229" y="345" />
        <di:waypoint x="242" y="345" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0gksq5a_di" bpmnElement="SequenceFlow_0gksq5a">
        <di:waypoint x="342" y="345" />
        <di:waypoint x="358" y="345" />
        <di:waypoint x="358" y="346" />
        <di:waypoint x="373" y="346" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0k8r9kg_di" bpmnElement="SequenceFlow_0k8r9kg">
        <di:waypoint x="1387" y="346" />
        <di:waypoint x="1406" y="346" />
        <di:waypoint x="1406" y="343" />
        <di:waypoint x="1424" y="343" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_0nzfu75_di" bpmnElement="SendTask_0nzfu75">
        <dc:Bounds x="617" y="336" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_0ursy7f_di" bpmnElement="StartEvent_0ursy7f">
        <dc:Bounds x="391" y="358" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0wveftu_di" bpmnElement="EndEvent_0wveftu">
        <dc:Bounds x="1308" y="358" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1azj7tj_di" bpmnElement="SequenceFlow_1azj7tj">
        <di:waypoint x="427" y="376" />
        <di:waypoint x="467" y="376" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0qkp441_di" bpmnElement="ExclusiveGateway_0qkp441" isMarkerVisible="true">
        <dc:Bounds x="467" y="351" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1ajlbdj_di" bpmnElement="ExclusiveGateway_1ajlbdj" isMarkerVisible="true">
        <dc:Bounds x="1156" y="351" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0r6rxk1_di" bpmnElement="SequenceFlow_0r6rxk1">
        <di:waypoint x="1181" y="351" />
        <di:waypoint x="1181" y="272" />
        <di:waypoint x="492" y="272" />
        <di:waypoint x="492" y="351" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="794" y="258" width="90" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06l92lo_di" bpmnElement="SequenceFlow_06l92lo">
        <di:waypoint x="517" y="376" />
        <di:waypoint x="541" y="376" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1x6j8rx_di" bpmnElement="SequenceFlow_1x6j8rx">
        <di:waypoint x="717" y="376" />
        <di:waypoint x="770" y="376" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_05k21es_di" bpmnElement="SequenceFlow_05k21es">
        <di:waypoint x="577" y="376" />
        <di:waypoint x="617" y="376" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_015wao3_di" bpmnElement="IntermediateThrowEvent_08egxnj">
        <dc:Bounds x="541" y="358" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="530" y="401" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0cemde2_di" bpmnElement="SequenceFlow_0cemde2">
        <di:waypoint x="979" y="376" />
        <di:waypoint x="1039" y="376" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_12n5qw4_di" bpmnElement="Task_0ca6d0q">
        <dc:Bounds x="879" y="336" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0re40za_di" bpmnElement="SequenceFlow_0re40za">
        <di:waypoint x="1206" y="376" />
        <di:waypoint x="1308" y="376" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1226" y="358" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0kuhckt_di" bpmnElement="ExclusiveGateway_0kuhckt" isMarkerVisible="true">
        <dc:Bounds x="1039" y="351" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_094ifu9_di" bpmnElement="SequenceFlow_094ifu9">
        <di:waypoint x="1089" y="376" />
        <di:waypoint x="1156" y="376" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1083" y="358" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0b8voat_di" bpmnElement="ExclusiveGateway_0b8voat" isMarkerVisible="true">
        <dc:Bounds x="770" y="351" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0f79c3p_di" bpmnElement="SequenceFlow_0f79c3p">
        <di:waypoint x="820" y="376" />
        <di:waypoint x="879" y="376" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_08hxfv3_di" bpmnElement="SequenceFlow_08hxfv3">
        <di:waypoint x="1064" y="351" />
        <di:waypoint x="1064" y="310" />
        <di:waypoint x="795" y="310" />
        <di:waypoint x="795" y="351" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="896" y="292" width="67" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
